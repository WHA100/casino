# Суперказик

Телеграм бот на java с mini-app, который представляет из себя казино для пользователей в телеграмме

## Функциональность

1. По ссылке открывается бот в телеграмме
1. Видит приветственное сообщение
1. Справа от ввода текста будет кнопка Старт
1. По нажатию кнопки будет всплывать вверх веб-приложение
1. После выплывания прилшожения будет открываться игра Орел и Решка
1. Игра состоит в том, игрок нажимает играть, бросается монета и показывается итог что выпало Орел или Решка и выходит надпись Ты выиграл или Ты проиграл
1. При игре игрок имеет возможность делать ставку, а также игрок имеет стартовый баланс в виде 1000 условно монет
1. Показался результат игры, потом обновляется баланс игрока и игра уходит в стартовое положение.

## План разработки

План разработки приложения "Суперказик" (Телеграм-бот с mini-app для казино):

1. [Done] Анализ требований и проектирование:
   - Изучить документацию Telegram Bot API и Telegram Mini Apps.
   - Определить архитектуру приложения: backend (Java), frontend (mini-app), интеграция с Telegram.
   - Спроектировать структуру базы данных для хранения информации о пользователях и их балансе.

2. [Done] Разработка Telegram-бота (Java):
   - Создать Telegram-бота и зарегистрировать его через BotFather.
   - Реализовать обработку команд /start и приветственного сообщения.
   - Добавить кнопку "Старт" справа от ввода текста.
   - Настроить открытие mini-app по нажатию кнопки. 
   - Web страница открывается в мобильной версии, но не открывается на компьютере

3. [Done] Разработка mini-app (веб-приложения):
   - Создать веб-приложение для игры "Орел и Решка".
   - Реализовать интерфейс: кнопка "Играть", поле для ввода ставки, отображение баланса.
   - Реализовать анимацию броска монеты и отображение результата (Орел/Решка).
   - Показать сообщение о выигрыше или проигрыше.

4. [Done] Логика игры и взаимодействие с backend:
   - Реализовать логику расчёта выигрыша/проигрыша и обновления баланса пользователя.
   - Обеспечить стартовый баланс 1000 монет для новых пользователей.
   - Сохранять и обновлять баланс пользователя после каждой игры.

5. Интеграция и тестирование:
   - Интегрировать Telegram-бота с mini-app.
   - Проверить работу backend. Сейчас он не работает. curl -I http://localhost:8080/game/balance?telegramId=123456  
   - Провести тестирование всех сценариев: регистрация, игра, обновление баланса, повторная игра.
   - Обеспечить корректную обработку ошибок и нештатных ситуаций.

6. - Отладить открытие веб приложение на компьютере

7. Развёртывание и поддержка:
   - Развернуть backend и mini-app на сервере.
   - Настроить вебхуки для Telegram-бота.
   - Подготовить инструкции для пользователей.
   - Организовать мониторинг и поддержку приложения.


## Архитектура

1. Архитектура проекта находится в файле achitecture.md
1. Архитектура базы данных находится в файле database.md
